<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CtrlSketch Pro - Simple Parts</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8fafc;
      color: #1e293b;
    }
    
    .header {
      background-color: #ffffff;
      color: #1e293b;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: #2563eb;
      display: flex;
      align-items: center;
    }
    
    .home-link {
      background-color: #2563eb;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.25rem;
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .nav-links {
      display: flex;
      gap: 1.5rem;
    }
    
    .nav-link {
      color: #64748b;
      text-decoration: none;
      padding: 0.5rem;
      font-weight: 500;
    }
    
    .nav-link.active {
      color: #2563eb;
      font-weight: 600;
    }
    
    .container {
      padding: 2rem;
    }
    
    .search-bar {
      display: flex;
      margin-bottom: 1rem;
    }
    
    .search-input {
      flex: 1;
      padding: 0.75rem;
      border: 1px solid #e2e8f0;
      border-radius: 0.25rem 0 0 0.25rem;
      font-size: 1rem;
    }
    
    .search-input:focus {
      outline: none;
      border-color: #2563eb;
    }
    
    .force-display-btn {
      background-color: #10b981;
      color: white;
      border: none;
      border-radius: 0 0.25rem 0.25rem 0;
      padding: 0 1rem;
      font-weight: 500;
      cursor: pointer;
    }
    
    .filter-panel {
      background-color: #ffffff;
      border-radius: 0.5rem;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .filter-row {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }
    
    .filter-group {
      display: flex;
      flex-direction: column;
    }
    
    .filter-label {
      font-size: 0.875rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: #475569;
    }
    
    .filter-select {
      padding: 0.5rem;
      border: 1px solid #e2e8f0;
      border-radius: 0.25rem;
      background-color: white;
    }
    
    .filter-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }
    
    .filter-btn {
      padding: 0.5rem 1rem;
      border-radius: 0.25rem;
      font-weight: 500;
      cursor: pointer;
    }
    
    .reset-btn {
      background-color: #f1f5f9;
      color: #475569;
      border: 1px solid #e2e8f0;
    }
    
    .apply-btn {
      background-color: #2563eb;
      color: white;
      border: none;
    }
    
    .parts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1.5rem;
    }
    
    .part-card {
      background-color: white;
      border-radius: 0.5rem;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .part-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .part-image {
      height: 140px;
      background-color: #f8fafc;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .part-image img {
      max-height: 80%;
      max-width: 80%;
    }
    
    .part-details {
      padding: 1rem;
    }
    
    .part-name {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }
    
    .part-id {
      font-size: 0.875rem;
      color: #64748b;
      margin-bottom: 0.5rem;
    }
    
    .part-specs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .part-spec {
      background-color: #f1f5f9;
      color: #475569;
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
    }
    
    .part-actions {
      display: flex;
      gap: 0.5rem;
    }
    
    .part-btn {
      flex: 1;
      padding: 0.5rem;
      font-size: 0.875rem;
      border-radius: 0.25rem;
      text-align: center;
      cursor: pointer;
    }
    
    .bom-btn {
      background-color: #2563eb;
      color: white;
      border: none;
    }
    
    .details-btn {
      background-color: #f8fafc;
      color: #2563eb;
      border: 1px solid #2563eb;
    }
    
    .add-btn {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 3.5rem;
      height: 3.5rem;
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 50%;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: transform 0.2s, background-color 0.2s;
    }
    
    .add-btn:hover {
      background-color: #1d4ed8;
      transform: scale(1.05);
    }
    
    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      gap: 0.5rem;
    }
    
    .page-btn {
      width: 2rem;
      height: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #e2e8f0;
      background-color: white;
      border-radius: 0.25rem;
      cursor: pointer;
    }
    
    .page-btn.active {
      background-color: #2563eb;
      color: white;
      border-color: #2563eb;
    }
  </style>
</head>
<body>
  <div class="header">
    <div style="display: flex; align-items: center; gap: 1rem;">
      <div class="logo">🔧 CtrlSketch</div>
      <a href="/" class="home-link">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        Back to Navigation
      </a>
    </div>
    <div class="nav-links">
      <a href="/drawing" class="nav-link">Drawing</a>
      <a href="#" class="nav-link active">Parts</a>
      <a href="/ai-assistant" class="nav-link">AI Assistant</a>
      <a href="#" class="nav-link">System Design</a>
    </div>
  </div>
  
  <div class="container">
    <div class="search-bar">
      <input type="text" class="search-input" placeholder="Search parts by name, ID, or description..." id="search-input">
      <button class="force-display-btn" id="force-display-btn">Force Display Elements</button>
    </div>
    
    <div class="filter-panel">
      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">Category</label>
          <select class="filter-select" id="category-filter">
            <option value="all">All Categories</option>
            <option value="sensors">Sensors</option>
            <option value="valves">Valves</option>
            <option value="controllers">Controllers</option>
            <option value="actuators">Actuators</option>
            <option value="power">Power Supplies</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Manufacturer</label>
          <select class="filter-select" id="manufacturer-filter">
            <option value="all">All Manufacturers</option>
            <option value="johnson">Johnson Controls</option>
            <option value="siemens">Siemens</option>
            <option value="honeywell">Honeywell</option>
            <option value="schneider">Schneider Electric</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Rating</label>
          <select class="filter-select" id="rating-filter">
            <option value="all">All Ratings</option>
            <option value="5">5 Stars</option>
            <option value="4">4+ Stars</option>
            <option value="3">3+ Stars</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Price Range</label>
          <select class="filter-select" id="price-filter">
            <option value="all">All Prices</option>
            <option value="0-50">$0 - $50</option>
            <option value="50-100">$50 - $100</option>
            <option value="100-500">$100 - $500</option>
            <option value="500+">$500+</option>
          </select>
        </div>
      </div>
      
      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">Availability</label>
          <select class="filter-select" id="availability-filter">
            <option value="all">All</option>
            <option value="in-stock">In Stock</option>
            <option value="low-stock">Low Stock</option>
            <option value="out-of-stock">Out of Stock</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Sort By</label>
          <select class="filter-select" id="sort-filter">
            <option value="newest">Most Recent</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="rating">Highest Rated</option>
          </select>
        </div>
      </div>
      
      <div class="filter-buttons">
        <button class="filter-btn reset-btn" id="reset-filters-btn">Reset Filters</button>
        <button class="filter-btn apply-btn" id="apply-filters-btn">Apply Filters</button>
      </div>
    </div>
    
    <div id="parts-count" style="margin-bottom: 1rem; color: #64748b; font-size: 0.875rem;">
      Showing all parts (14 items)
    </div>
    
    <div class="parts-grid" id="parts-grid">
      <!-- Parts will be generated and placed here by JavaScript -->
    </div>
    
    <div class="pagination">
      <div class="page-btn">«</div>
      <div class="page-btn active">1</div>
      <div class="page-btn">2</div>
      <div class="page-btn">3</div>
      <div class="page-btn">»</div>
    </div>
  </div>
  
  <button class="add-btn" title="Add New Part">+</button>
  
  <script>
    // Sample parts data
    const parts = [
      {
        id: 'VT-1247AD',
        name: '2-Way Control Valve',
        category: 'valves',
        manufacturer: 'johnson',
        price: 125,
        rating: 4.5,
        availability: 'in-stock',
        specs: ['DN15', 'PN16', 'Brass'],
        image: '🔧'
      },
      {
        id: 'TS-6378D-R13',
        name: 'Temperature Sensor',
        category: 'sensors',
        manufacturer: 'siemens',
        price: 45,
        rating: 4.8,
        availability: 'in-stock',
        specs: ['0-50°C', '±0.5°C', 'PT100'],
        image: '🌡️'
      },
      {
        id: 'CVM-4242X-BAC',
        name: 'DDC Controller',
        category: 'controllers',
        manufacturer: 'honeywell',
        price: 320,
        rating: 4.7,
        availability: 'in-stock',
        specs: ['24 I/O', 'BACnet', 'Modbus'],
        image: '🧠'
      },
      {
        id: 'MVA-56-24-SR',
        name: 'Valve Actuator',
        category: 'actuators',
        manufacturer: 'schneider',
        price: 89,
        rating: 4.2,
        availability: 'low-stock',
        specs: ['5Nm', '24VAC', 'Modulating'],
        image: '⚙️'
      },
      {
        id: 'VT-3347-PN25',
        name: '3-Way Mixing Valve',
        category: 'valves',
        manufacturer: 'johnson',
        price: 155,
        rating: 4.6,
        availability: 'in-stock',
        specs: ['DN25', 'kvs 10', 'Cast Iron'],
        image: '🔧'
      },
      {
        id: 'PT-2210-16BAR',
        name: 'Pressure Transmitter',
        category: 'sensors',
        manufacturer: 'siemens',
        price: 68,
        rating: 4.3,
        availability: 'in-stock',
        specs: ['0-16 Bar', '4-20mA', 'G1/2"'],
        image: '📊'
      },
      {
        id: 'PS-MDR-75-24',
        name: 'DIN Rail Power Supply',
        category: 'power',
        manufacturer: 'schneider',
        price: 42,
        rating: 4.9,
        availability: 'in-stock',
        specs: ['24VDC', '75W', '3.2A'],
        image: '⚡'
      },
      {
        id: 'FST-7104-1FLS',
        name: 'Flow Switch',
        category: 'sensors',
        manufacturer: 'honeywell',
        price: 35,
        rating: 4.0,
        availability: 'in-stock',
        specs: ['1-10 LPM', 'G1"', 'SPDT'],
        image: '🌊'
      }
    ];
    
    // DOM elements
    const partsGrid = document.getElementById('parts-grid');
    const partsCount = document.getElementById('parts-count');
    const searchInput = document.getElementById('search-input');
    const categoryFilter = document.getElementById('category-filter');
    const manufacturerFilter = document.getElementById('manufacturer-filter');
    const ratingFilter = document.getElementById('rating-filter');
    const priceFilter = document.getElementById('price-filter');
    const availabilityFilter = document.getElementById('availability-filter');
    const sortFilter = document.getElementById('sort-filter');
    const resetFiltersBtn = document.getElementById('reset-filters-btn');
    const applyFiltersBtn = document.getElementById('apply-filters-btn');
    const forceDisplayBtn = document.getElementById('force-display-btn');
    
    // Current filter state
    let filteredParts = [...parts];
    
    // Initialize the page
    renderParts(filteredParts);
    
    // Set up event listeners
    searchInput.addEventListener('input', () => {
      applyFilters();
    });
    
    applyFiltersBtn.addEventListener('click', () => {
      applyFilters();
    });
    
    resetFiltersBtn.addEventListener('click', () => {
      // Reset all filter selections
      searchInput.value = '';
      categoryFilter.value = 'all';
      manufacturerFilter.value = 'all';
      ratingFilter.value = 'all';
      priceFilter.value = 'all';
      availabilityFilter.value = 'all';
      sortFilter.value = 'newest';
      
      // Apply the reset filters
      applyFilters();
    });
    
    forceDisplayBtn.addEventListener('click', () => {
      document.querySelectorAll('body *').forEach(el => {
        if (!el.closest('#force-display-btn')) {
          el.style.display = el.style.display === 'none' ? 'block' : el.style.display;
          el.style.visibility = 'visible';
          el.style.opacity = '1';
        }
      });
    });
    
    // Filter and render parts
    function applyFilters() {
      // Get filter values
      const searchTerm = searchInput.value.toLowerCase();
      const category = categoryFilter.value;
      const manufacturer = manufacturerFilter.value;
      const rating = ratingFilter.value;
      const price = priceFilter.value;
      const availability = availabilityFilter.value;
      const sort = sortFilter.value;
      
      // Filter parts
      filteredParts = parts.filter(part => {
        // Search term filter
        if (searchTerm && !part.name.toLowerCase().includes(searchTerm) && 
            !part.id.toLowerCase().includes(searchTerm)) {
          return false;
        }
        
        // Category filter
        if (category !== 'all' && part.category !== category) {
          return false;
        }
        
        // Manufacturer filter
        if (manufacturer !== 'all' && part.manufacturer !== manufacturer) {
          return false;
        }
        
        // Rating filter
        if (rating !== 'all' && part.rating < parseInt(rating)) {
          return false;
        }
        
        // Price filter
        if (price !== 'all') {
          const [min, max] = price.split('-');
          if (min && max && (part.price < parseInt(min) || part.price > parseInt(max))) {
            return false;
          } else if (price === '500+' && part.price < 500) {
            return false;
          }
        }
        
        // Availability filter
        if (availability !== 'all' && part.availability !== availability) {
          return false;
        }
        
        return true;
      });
      
      // Sort parts
      switch (sort) {
        case 'price-low':
          filteredParts.sort((a, b) => a.price - b.price);
          break;
        case 'price-high':
          filteredParts.sort((a, b) => b.price - a.price);
          break;
        case 'rating':
          filteredParts.sort((a, b) => b.rating - a.rating);
          break;
        default:
          // Default is 'newest', which we'll simulate with the original order
          break;
      }
      
      // Render the filtered parts
      renderParts(filteredParts);
    }
    
    // Render parts to the grid
    function renderParts(partsToRender) {
      // Clear the grid
      partsGrid.innerHTML = '';
      
      // Update parts count
      partsCount.textContent = `Showing ${partsToRender.length} of ${parts.length} items`;
      
      // Add each part to the grid
      partsToRender.forEach(part => {
        const partCard = document.createElement('div');
        partCard.className = 'part-card';
        
        const specs = part.specs.map(spec => `<div class="part-spec">${spec}</div>`).join('');
        
        partCard.innerHTML = `
          <div class="part-image">
            <div style="font-size: 3rem;">${part.image}</div>
          </div>
          <div class="part-details">
            <div class="part-name">${part.name}</div>
            <div class="part-id">${part.id}</div>
            <div class="part-specs">
              ${specs}
            </div>
            <div class="part-actions">
              <button class="part-btn bom-btn">Add to BOM</button>
              <button class="part-btn details-btn">Details</button>
            </div>
          </div>
        `;
        
        partsGrid.appendChild(partCard);
      });
      
      // If no parts match the filters
      if (partsToRender.length === 0) {
        partsGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 2rem; color: #64748b;">No parts match your filters. Try adjusting your criteria or <button id="clear-filters-btn" style="background: none; border: none; color: #2563eb; cursor: pointer; font-weight: 500;">clear all filters</button>.</div>';
        
        document.getElementById('clear-filters-btn').addEventListener('click', () => {
          resetFiltersBtn.click();
        });
      }
    }
    
    console.log('Parts System initialized');
  </script>
</body>
</html>